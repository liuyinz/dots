# default, jungle, snow, solarized
set colorscheme default


# UI
set viewmode miller
set column_ratios 1,3,4
set status_bar_on_top false
set draw_progress_bar_in_status_bar true
set draw_borders none
set dirname_in_tabs true
set display_size_in_main_column true
set display_size_in_status_bar true
set display_free_space_in_status_bar false
set display_tags_in_all_columns true
set hostname_in_titlebar false
set tilde_in_titlebar true
set show_selection_in_titlebar true
set update_title true
set update_tmux_title true
set shorten_title 0

# setting
set scroll_offset 6
set flushinput true
set mouse_enabled true
set show_hidden false
set hidden_filter ^\.(fseventsd|Spotlight-V100|Transh|Trashes|DS.Store|localized)$|\.(?:pyc|pyo|bak|swp)$|^lost\+found$|^__(py)?cache__$
set automatically_count_files true
set save_console_history true
set max_history_size 2000
set max_console_history_size 5000
set confirm_on_delete always
set line_numbers false
set relative_current_zero false
set one_indexed true
set save_tabs_on_exit true
set wrap_scroll true
set freeze_files false
# set size_in_bytes false
set padding_right true
set autosave_bookmarks true
set save_backtick_bookmark true
set autoupdate_cumulative_size false
set show_cursor true
set xterm_alt_key false
set cd_bookmarks true
set cd_tab_case insensitive
set cd_tab_fuzzy true
set idle_delay 500
set metadata_deep_search false
set clear_filters_on_dir_change false
set global_inode_type_filter

# git
set vcs_aware true
set vcs_backend_git enabled
set vcs_backend_hg  enabled
set vcs_backend_bzr enabled
set vcs_backend_svn enabled

# sort
set sort natural
set sort_reverse false
set sort_case_insensitive true
set sort_directories_first true
set sort_unicode false

# preview
set preview_files true
set preview_directories true
set preview_images false
set preview_max_size 0
set collapse_preview true
set unicode_ellipsis true
set bidi_support false
set hint_collapse_threshold 10
set show_hidden_bookmarks true
set use_preview_script true
set preview_script ~/.config/ranger/scope.sh

# Local Options
setlocal path=~/Downloads sort mtime

# Command Aliases in the Console
alias e     edit
alias q     quit
alias q!    quit!
alias qa    quitall
alias qa!   quitall!
alias qall  quitall
alias qall! quitall!
alias setl  setlocal

alias filter     scout -prts
alias find       scout -aets
alias mark       scout -mr
alias unmark     scout -Mr
alias search     scout -rs
alias search_inc scout -rts
alias travel     scout -aefklst


# Define keys for the browser
# Basic
map     Q quitall
map     q quit
map <esc> change_mode normal
map ~ set viewmode!

# Jumping around
map ]     move_parent 1
map [     move_parent -1
map }     traverse
map {     traverse_backwards
map gh cd ~
map g/ cd /
map cd console cd%space
map <TAB>     tab_move 1
map tn        tab_new
map tc        tab_close

# edit
map yp yank path
map yd yank dir
map yn yank name
map y. yank name_without_extension
map yy copy
map ya copy mode=add
map yr copy mode=remove
map yt copy mode=toggle

map pp paste
map po paste overwrite=True
map pP paste append=True
map pO paste overwrite=True append=True
map pl paste_symlink relative=False
map pL paste_symlink relative=True
map phl paste_hardlink
map pht paste_hardlinked_subtree
map pd console paste dest=

map xx cut
map ux uncut
map xa cut mode=add
map xr cut mode=remove
map xt cut mode=toggle

map of console touch%space
map od console mkdir%space
map dd delete
map rn eval fm.open_console('rename ' + fm.thisfile.relative_path.replace("%", "%%"))
map =  chmod

# Change the line mode
map i  display_file
map ?  help
map :  console
map op chain draw_possible_programs; console open_with%%space
map f  console find%space
map /  console search%space
map n  search_next
map N  search_next forward=False
map Mp linemode permissions
map zh set show_hidden!

# Tagging / Marking
map <Space> mark_files toggle=True
map v       mark_files all=True toggle=True
map uv      mark_files all=True val=False
map V       toggle_visual_mode
map uV      toggle_visual_mode reverse=True

# Bookmarks
map '<any>  enter_bookmark %any
map m<any>  set_bookmark %any
map um<any> unset_bookmark %any
